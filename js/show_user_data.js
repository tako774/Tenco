lock_show_user_data=0;function show_user_data(a,b){a=a;b=b;if(lock_show_user_data==0){lock_show_user_data=1;$("#decrypt_tool").css("display","none");$("#decrypt_tool_msg").text("\u901a\u4fe1\u4e2d");decrypt(a,b)}} function decrypt(a,b){a=a;b=b;var d="";$.ajax({type:"POST",url:"http://"+location.host+"/api/account_data_password.cgi",data:{account_name:a,account_password:b},cache:true,dataType:"xml",success:function(c){d=$("data_password",$("account",c)).text();decrypt_data(d)},error:function(){lock_show_user_data=0;$("#decrypt_tool_msg").text("\u30a2\u30ab\u30a6\u30f3\u30c8\u8a8d\u8a3c\u5931\u6557\uff01");$("#decrypt_tool").css("display","inline");$("#account_password").focus()}})} function decrypt_data(a){a=a;$("#decrypt_tool_msg").text("\u5fa9\u53f7\u4e2d");var b=$(".enc"),d=$(".enc_alt");loop({begin:0,end:b.length,step:jQuery.browser.msie?100:10},function(c,e){b.slice(c,c+e.step).each(function(){$("#decrypt_tool_msg").text(c+"/"+b.length+" \u5fa9\u53f7\u4e2d");try{$(this).text(GibberishAES.dec(Url.decode($(this).text()),a));$(this).removeClass("enc")}catch(f){$(this).text("Error : "+f)}})}).next(function(){$("#decrypt_tool_msg").text("")});d.css("display","none")};